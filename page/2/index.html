<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>LionCui的IT二三事 | 分享与记录</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">LionCui的IT二三事</h1><a id="logo" href="/.">LionCui的IT二三事</a><p class="description">分享与记录</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2015/07/23/自定义制作centos6.6镜像/">自定义制作centos6.6 nova镜像</a></h1><div class="post-meta">2015-07-23</div><div class="post-content"><h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><ol>
<li>KVM虚拟化配套工具集合(含图形界面更好)</li>
<li>centos安装光盘</li>
</ol>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol></div><p class="readmore"><a href="/2015/07/23/自定义制作centos6.6镜像/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/07/openstack_i版本部署10/">Openstack I版部署安装(十)</a></h1><div class="post-meta">2015-04-07</div><div class="post-content"><h2 id="配置Ceilometer-Server控制服务"><a href="#配置Ceilometer-Server控制服务" class="headerlink" title="配置Ceilometer Server控制服务"></a>配置Ceilometer Server控制服务</h2><p>Ceilometer项目创建时最初的目的是实现一个能为计费系统采集数据的框架。社区推动Ceilometer成为OpenStack里数据采集（监控数据、计费数据）的基础设施，采集到的数据提供给监控、计费、面板等项目使用</p></div><p class="readmore"><a href="/2015/04/07/openstack_i版本部署10/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/06/openstack_i版本部署9/">Openstack I版部署安装(九)</a></h1><div class="post-meta">2015-04-06</div><div class="post-content"><h2 id="虚拟机热迁移配置"><a href="#虚拟机热迁移配置" class="headerlink" title="虚拟机热迁移配置"></a>虚拟机热迁移配置</h2><p>笔者的环境已经部署双计算及节点,并且同时使用ceph rbd作为后端存储.<br>双计算节点可以实现虚拟机的热迁移,注意迁移的主机资源必须足够.同时需要设置节点知之间libvirtd服务无密码互相访问<br>在两个计算节点上执行<br>vi /etc/libvirt/libvirtd.conf 添加以下配置<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">listen_tls = 0</span><br><span class="line">listen_tcp = 1</span><br><span class="line">tcp_port = <span class="string">"16509"</span></span><br><span class="line">listen_addr = <span class="string">"0.0.0.0"</span></span><br><span class="line">auth_tcp = <span class="string">"none"</span></span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/06/openstack_i版本部署9/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/05/openstack_i版本部署8/">Openstack I版部署安装(八)</a></h1><div class="post-meta">2015-04-05</div><div class="post-content"><h2 id="调试验证"><a href="#调试验证" class="headerlink" title="调试验证"></a>调试验证</h2><p>在controller节点上查看服务的状态,笑脸为正常</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nova-manage service list</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2015/04/05/openstack_i版本部署8/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/04/openstack_i版本部署7/">Openstack I版部署安装(七)</a></h1><div class="post-meta">2015-04-04</div><div class="post-content"><h2 id="部署配置Neutron网络组件"><a href="#部署配置Neutron网络组件" class="headerlink" title="部署配置Neutron网络组件"></a>部署配置Neutron网络组件</h2><h3 id="配置Neutron网络-计算节点"><a href="#配置Neutron网络-计算节点" class="headerlink" title="配置Neutron网络(计算节点)"></a>配置Neutron网络(计算节点)</h3><p>在compute节点上执行<br>开启内核转发<br>vi /etc/sysctl.conf<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.conf.all.rp_filter=0</span><br><span class="line">net.ipv4.conf.default.rp_filter=0</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/04/openstack_i版本部署7/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/03/openstack_i版本部署6/">Openstack I版部署安装(六)</a></h1><div class="post-meta">2015-04-03</div><div class="post-content"><h2 id="部署配置Neutron网络组件"><a href="#部署配置Neutron网络组件" class="headerlink" title="部署配置Neutron网络组件"></a>部署配置Neutron网络组件</h2><h3 id="配置Neutron控制节点"><a href="#配置Neutron控制节点" class="headerlink" title="配置Neutron控制节点"></a>配置Neutron控制节点</h3><p>在controller上<br>创建neutron用户、角色、端点服务<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">keystone user-create --name neutron --pass NEUTRON_PASS --email neutron@example.com</span><br><span class="line">keystone user-role-add --user neutron --tenant service --role admin</span><br><span class="line">keystone service-create --name neutron --<span class="built_in">type</span> network --description <span class="string">"OpenStack Networking"</span></span><br><span class="line">keystone endpoint-create \</span><br><span class="line">--service-id $(keystone service-list | awk <span class="string">'/ network / &#123;print $2&#125;'</span>) \</span><br><span class="line">--publicurl http://controller:9696 \</span><br><span class="line">--adminurl http://controller:9696 \</span><br><span class="line">--internalurl http://controller:9696</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/03/openstack_i版本部署6/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/02/openstack_i版本部署5/">Openstack I版部署安装(五)</a></h1><div class="post-meta">2015-04-02</div><div class="post-content"><h2 id="部署配置Compute计算节点"><a href="#部署配置Compute计算节点" class="headerlink" title="部署配置Compute计算节点"></a>部署配置Compute计算节点</h2><h3 id="安装nova-compute"><a href="#安装nova-compute" class="headerlink" title="安装nova-compute"></a>安装nova-compute</h3><p>安装nova-compute的相关组件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openstack-nova-compute MySQL-python -y</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/02/openstack_i版本部署5/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/02/openstack_i版本部署4/">Openstack I版部署安装(四)</a></h1><div class="post-meta">2015-04-02</div><div class="post-content"><h3 id="配置Cinder块设备存储"><a href="#配置Cinder块设备存储" class="headerlink" title="配置Cinder块设备存储"></a>配置Cinder块设备存储</h3><p>安装cinder组件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openstack-cinder -y</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/02/openstack_i版本部署4/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/02/openstack_i版本部署3/">Openstack I版部署安装(三)</a></h1><div class="post-meta">2015-04-02</div><div class="post-content"><h3 id="配置NOVA计算服务控制"><a href="#配置NOVA计算服务控制" class="headerlink" title="配置NOVA计算服务控制"></a>配置NOVA计算服务控制</h3><p>安装服务<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install openstack-nova-api openstack-nova-cert openstack-nova-conductor \</span><br><span class="line">  openstack-nova-console openstack-nova-novncproxy openstack-nova-scheduler \</span><br><span class="line">  python-novaclient -y</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/02/openstack_i版本部署3/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2015/04/01/openstack_i版本部署2/">Openstack I版部署安装(二)</a></h1><div class="post-meta">2015-04-01</div><div class="post-content"><p>通过Ceph-Deploy部署了3节点的Ceph分布式存储后,先要为openstack的集成做配置准备</p>
<h2 id="配置Ceph集成准备"><a href="#配置Ceph集成准备" class="headerlink" title="配置Ceph集成准备"></a>配置Ceph集成准备</h2><p>在ceph-node01上<br>创建卷池和镜像池,分别用来存放cinder卷,实例卷,和镜像<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rados mkpool volumes</span><br><span class="line">rados mkpool images</span><br></pre></td></tr></table></figure></p></div><p class="readmore"><a href="/2015/04/01/openstack_i版本部署2/">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Golang/" style="font-size: 15px;">Golang</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Openstack/" style="font-size: 15px;">Openstack</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/MQTT/" style="font-size: 15px;">MQTT</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/Ceph/" style="font-size: 15px;">Ceph</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/VMware/" style="font-size: 15px;">VMware</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/07/03/Raft共识算法的浅出/">Raft共识算法的浅出</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/14/处理Celery停止消费故障记录/">Celery故障处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/11/OTP动态密码实现与应用/">OTP动态密码实现与场景应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/MQTT实时推送设计/">MQTT实时推送设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/01/Golang为Python编写模块/">Golang为Python编写模块</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/06/Tkinter引入图标/">Tkinter如何引入图标</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/05/VPNaaS服务说明/">VPNaaS服务说明</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/22/LBaaS服务说明/">LBaaS服务说明</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/15/nova集成docker部署/">Nova集成Docker过程记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/23/自定义创建Openstack镜像(Windows)/">自定义制作Windows2008R2 nova镜像</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">LionCui的IT二三事.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>